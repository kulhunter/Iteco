<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITECO Ingeniería | Servidores Administrados Chile, Cloud ERP, Soporte Softland y SAP B1</title>
    
    <!-- SEO & AEO (Optimización de Motores de Búsqueda y Asistentes) -->
    <meta name="description" content="ITECO Ingeniería: Expertos en Servidores Administrados en Chile, Cloud ERP Integrado, Continuidad Operativa Cloud, Antiransomware y Soporte Local para Softland y SAP B1. Reduce el riesgo de falla en tus sistemas críticos.">
    <meta name="keywords" content="Servidores Administrados Chile, Cloud ERP Chile, Continuidad Operativa Cloud, Hosting de Aplicaciones Críticas, Respaldo de datos, Plataforma administrativa, Servidores dedicados, Soluciones ERP, Soporte ERP, Oficina Remota, Business Intelligence BI, Integración ERP Commerce, Servidores para ERP Softland, Servidores para ERP Sap B1, Soporte Local, Servidores en Chile, Servidores autogestionados, Outsorcing de sistemas, Auditoria de sistemas, Servicio de soporte, Infraestructura administrada, Nube privada, Plataformas ERP Softland, Plataformas ERP SAP B1, On-Premise Cloud, Cloud ERP Integrado, Servicios IaaS PaaS, Antiransomware con reversión automática, Cumplimiento Normativo ISO 27001, Reducir riesgo de falla sistemas, Configurador de servidores online, Servidores de bases de datos Linux/Windows">
    <link rel="canonical" href="https://www.itecoingenieria.cl"> <!-- Asumiendo .cl -->
    
    <!-- Schema.org JSON-LD para SEO Local (GEO) y AEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "ITECO Ingeniería",
      "description": "Servidores Administrados Chile, Cloud ERP Integrado, y Continuidad Operativa Cloud para PYMES.",
      "url": "https://www.itecoingenieria.cl",
      "logo": "https://1556a248e1.clvaw-cdnwnd.com/3241ba23f27350427a6737bb4083c751/200000123-e842de8431/logo%20iteco%20OK.webp?ph=1556a248e1",
      "telephone": "+56225067200",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Av. Vicuña Mackenna 4620",
        "addressLocality": "Macul",
        "addressRegion": "Santiago",
        "addressCountry": "CL"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": -33.4735397,
        "longitude": -70.589839
      },
      "openingHours": "Mo-Fr 09:00-18:00",
      "knowsAbout": ["Servidores Administrados Chile", "Cloud ERP Chile", "Soporte ERP Softland", "Soporte SAP B1", "Continuidad Operativa Cloud"]
    }
    </script>
    
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carga de FontAwesome para Iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'iteco-blue': '#003366', /* Azul Principal (Texto oscuro, fondos) */
                        'iteco-cyan': '#009fe3', /* Cyan Acento (Botones, links, íconos) */
                        'iteco-dark': '#1e293b', /* Fondo Oscuro (Contraste) */
                        'iteco-light': '#f8fafc', /* Fondo Claro (Principal) */
                        'text-dark': '#0f172a', /* Texto Principal (Casi negro) */
                        'text-light': '#64748b', /* Texto Secundario (Gris) */
                    },
                }
            }
        }
    </script>
    
    <style>
        /* Estilos personalizados y UX/CX */
        html { font-family: 'Inter', sans-serif; }
        
        /* Contraste Alto: Texto oscuro sobre fondo claro */
        body { background-color: #f8fafc; color: #0f172a; }
        .dark-section { background-color: #1e293b; color: #f8fafc; }
        .dark-section h2, .dark-section h3 { color: #ffffff; }
        .dark-section p { color: #cbd5e1; } /* Texto claro pero no blanco puro */

        /* Corrección de Contraste: Texto celeste SÓLO como acento, NUNCA para párrafos */
        .text-accent { color: #009fe3; }
        
        /* Botón Primario (Alto Contraste y Feedback) */
        .btn-primary {
            background-color: #009fe3; 
            color: #ffffff;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem; 
            font-weight: 600;
            display: inline-block;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 159, 227, 0.3), 0 2px 4px -2px rgba(0, 159, 227, 0.3);
        }
        .btn-primary:hover {
            background-color: #007bb7; /* Cyan más oscuro */
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 159, 227, 0.3), 0 4px 6px -4px rgba(0, 159, 227, 0.3);
        }
        
        /* Botón Secundario */
        .btn-secondary {
            background-color: #ffffff; 
            color: #009fe3;
            border: 1px solid #009fe3;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem; 
            font-weight: 600;
            display: inline-block;
            transition: all 0.3s ease;
        }
        .btn-secondary:hover {
            background-color: #f8fafc;
            transform: translateY(-2px);
        }
        
        /* Animaciones de Scroll (UX Dinámico) */
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .reveal-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* ------------------ Chatbot Flotante (CX) ------------------ */
        #chat-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            cursor: pointer;
            transition: transform 0.3s ease;
            animation: pulse-cyan 2.5s infinite;
        }
        @keyframes pulse-cyan {
            0% { box-shadow: 0 0 0 0 rgba(0, 159, 227, 0.7); }
            70% { box-shadow: 0 0 0 12px rgba(0, 159, 227, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 159, 227, 0); }
        }
        #chat-window {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 90vw;
            max-width: 400px;
            height: 75vh;
            max-height: 600px;
            z-index: 999;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            border-radius: 1rem;
            display: flex;
            flex-direction: column;
            background-color: white;
            overflow: hidden;
            transform: scale(0.95);
            opacity: 0;
            transition: all 0.3s ease-in-out;
            visibility: hidden;
        }
        #chat-window.is-visible {
            transform: scale(1);
            opacity: 1;
            visibility: visible;
        }
        /* ... (Resto de estilos del chat) ... */

        /* ------------------ Calculadora "Increíble" (Wizard) ------------------ */
        .wizard-step {
            display: none; /* Ocultos por defecto */
        }
        .wizard-step.active {
            display: block; /* Mostrar paso activo */
        }
        .wizard-radio-card {
            border: 2px solid #374151; /* Borde oscuro */
            transition: all 0.3s ease;
        }
        .wizard-radio-card:hover {
            border-color: #009fe3;
            background-color: #003366;
        }
        .wizard-radio-card.selected {
            border-color: #009fe3;
            background-color: #003366;
            box-shadow: 0 0 15px rgba(0, 159, 227, 0.6);
        }
        /* Barra de Progreso */
        #wizard-progress-bar {
            transition: width 0.5s ease;
        }
    </style>
</head>
<body class="font-sans antialiased">

    <!-- Navegación (Mobile-First) -->
    <header class="sticky top-0 z-50 bg-white shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center py-4">
            <!-- Logo ITECO -->
            <a href="#home" class="flex-shrink-0">
                <img src="https://1556a248e1.clvaw-cdnwnd.com/3241ba23f27350427a6737bb4083c751/200000123-e842de8431/logo%20iteco%20OK.webp?ph=1556a248e1" 
                     alt="Logo ITECO Ingeniería" 
                     class="h-10 w-auto"
                     onerror="this.onerror=null; this.src='https://placehold.co/150x40/003366/ffffff?text=ITECO+Ing';"
                >
            </a>

            <!-- Menú de Escritorio (Oculto en móvil) -->
            <div class="hidden lg:flex items-center space-x-6 text-base font-medium text-text-light">
                <a href="#servicios" class="hover:text-iteco-cyan transition duration-300">Servicios</a>
                <a href="#plataforma" class="hover:text-iteco-cyan transition duration-300">Plataforma</a>
                <a href="#configurador" class="hover:text-iteco-cyan transition duration-300">Configurador</a>
                <a href="#seguridad" class="hover:text-iteco-cyan transition duration-300">Seguridad</a>
                <a href="#blog" class="hover:text-iteco-cyan transition duration-300">Blog</a>
                <a href="#contacto" class="btn-primary py-2 px-4 text-sm shadow-none">Contacto</a>
            </div>

            <!-- Botón de Menú Móvil (Visible en móvil) -->
            <button id="menu-button" class="lg:hidden text-iteco-blue focus:outline-none">
                <i class="fas fa-bars fa-lg"></i>
            </button>
        </nav>

        <!-- Menú Móvil Desplegable -->
        <div id="mobile-menu" class="lg:hidden hidden">
            <div class="px-4 pt-2 pb-3 space-y-1 sm:px-3 border-t border-gray-100">
                <a href="#servicios" class="block px-3 py-2 rounded-md text-base font-medium text-text-dark hover:bg-gray-100 hover:text-iteco-cyan">Servicios</a>
                <a href="#plataforma" class="block px-3 py-2 rounded-md text-base font-medium text-text-dark hover:bg-gray-100 hover:text-iteco-cyan">Plataforma</a>
                <a href="#configurador" class="block px-3 py-2 rounded-md text-base font-medium text-text-dark hover:bg-gray-100 hover:text-iteco-cyan">Configurador</a>
                <a href="#seguridad" class="block px-3 py-2 rounded-md text-base font-medium text-text-dark hover:bg-gray-100 hover:text-iteco-cyan">Seguridad</a>
                <a href="#blog" class="block px-3 py-2 rounded-md text-base font-medium text-text-dark hover:bg-gray-100 hover:text-iteco-cyan">Blog</a>
                <a href="#contacto" class="block px-3 py-2 rounded-md text-base font-medium text-text-dark hover:bg-gray-100 hover:text-iteco-cyan">Contacto</a>
            </div>
        </div>
    </header>

    <main>

        <!-- Sección HERO (H1) -->
        <section id="home" class="relative hero-bg py-24 md:py-32 text-white overflow-hidden">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
                <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold mb-6 leading-tight">
                    El Cerebro de tu Negocio: <span class="text-iteco-cyan">Cloud ERP & Servidores Administrados en Chile</span>
                </h1>
                <p class="text-lg md:text-xl mb-10 max-w-3xl mx-auto text-gray-300">
                    Diseñamos ecosistemas digitales donde tus sistemas no solo funcionan, se comunican. Expertos en <strong class="text-white">Continuidad Operativa Cloud</strong> y <strong class="text-white">Soporte Local para PYMES</strong>.
                </p>
                <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4">
                    <a href="#configurador" class="btn-primary px-8 py-3 text-lg">
                        <i class="fas fa-calculator mr-2"></i> Configura tu Servidor
                    </a>
                    <a href="#servicios" class="btn-secondary px-8 py-3 text-lg bg-white/10 text-white border-white/50 hover:bg-white hover:text-iteco-blue">
                        Conoce nuestros Servicios
                    </a>
                </div>
            </div>
        </section>

        <!-- Sección "Por Qué ITECO" (PPTX) - Alto Contraste -->
        <section id="porque-iteco" class="py-16 md:py-24 bg-iteco-light">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12 reveal-on-scroll">
                    <h2 class="text-3xl md:text-4xl font-bold text-text-dark mb-4">¿Por Qué ITECO?</h2>
                    <p class="text-lg text-text-light max-w-3xl mx-auto">Nuestra filosofía se basa en 3 pilares para <strong class="text-iteco-blue">reducir el riesgo de falla de sistemas</strong>.</p>
                </div>
                <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                    <!-- Riesgo -->
                    <div class="text-center p-6 reveal-on-scroll" data-delay="100">
                        <i class="fas fa-shield-alt fa-3x text-iteco-cyan mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-2 text-iteco-blue">Reducción de Riesgo</h3>
                        <p class="text-text-light">Nuestros <strong class="text-text-dark">Servicios Administrados</strong> reducen el riesgo de falla y aseguran la disponibilidad de los sistemas críticos 24/7.</p>
                    </div>
                    <!-- Costos -->
                    <div class="text-center p-6 reveal-on-scroll" data-delay="200">
                        <i class="fas fa-coins fa-3x text-iteco-cyan mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-2 text-iteco-blue">Optimización de Costos</h3>
                        <p class="text-text-light">Trabajamos con escalabilidad para reducir costos y ofrecer un servicio eficiente a valores asequibles. Somos la mejor <strong class="text-text-dark">alternativa a la nube genérica</strong>.</p>
                    </div>
                    <!-- Rendimiento -->
                    <div class="text-center p-6 reveal-on-scroll" data-delay="300">
                        <i class="fas fa-tachometer-alt fa-3x text-iteco-cyan mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-2 text-iteco-blue">Máximo Rendimiento</h3>
                        <p class="text-text-light">Experiencia y tecnología de punta garantizan la continuidad en la operación de tus <strong class="text-text-dark">Plataformas ERP Softland y SAP B1</strong>.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección "Servicios Principales" (itc-servicios) - Mobile-First (Alternando) -->
        <section id="servicios" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16 reveal-on-scroll">
                    <h2 class="text-3xl md:text-4xl font-bold text-text-dark mb-4">Soluciones Integrales para tu Negocio</h2>
                    <p class="text-lg text-text-light max-w-3xl mx-auto">Desde la consultoría ERP hasta la infraestructura y el soporte.</p>
                </div>

                <!-- Servicio 1: Cloud ERP (Layout Imagen + Texto) -->
                <div class="grid lg:grid-cols-2 gap-12 items-center mb-16 reveal-on-scroll">
                    <div class="rounded-lg overflow-hidden shadow-xl">
                        <img src="https://images.unsplash.com/photo-1556742502-0d60d5b516F7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1170&q=80" alt="Cloud ERP Integrado" class="w-full h-full object-cover" loading="lazy">
                    </div>
                    <div>
                        <h3 class="text-3xl font-bold mb-4 text-iteco-blue">1. Cloud ERP Integrado</h3>
                        <p class="text-text-light mb-6">Nos especializamos en <strong class="text-text-dark">Soluciones ERP</strong> para PYMES. Estando en un entorno exclusivo, tus datos se sincronizan con el ERP, portales E-Commerce (Shopify, MercadoLibre) y sistemas de informes (PowerBI).</p>
                        <ul class="space-y-3 text-text-dark">
                            <li class="flex items-center"><i class="fas fa-check-circle text-iteco-cyan mr-3"></i> Expertos en <strong class="ml-1">Servidores para ERP Softland</strong>.</li>
                            <li class="flex items-center"><i class="fas fa-check-circle text-iteco-cyan mr-3"></i> Especialistas en <strong class="ml-1">Servidores para ERP Sap B1</strong>.</li>
                            <li class="flex items-center"><i class="fas fa-check-circle text-iteco-cyan mr-3"></i> <strong class="ml-1">Integración ERP Commerce</strong> y BI.</li>
                        </ul>
                    </div>
                </div>

                <!-- Servicio 2: Infraestructura (Layout Texto + Imagen) -->
                <div class="grid lg:grid-cols-2 gap-12 items-center mb-16 reveal-on-scroll">
                    <div class="lg:order-2 rounded-lg overflow-hidden shadow-xl">
                        <img src="https://images.unsplash.com/photo-1590959411132-a590a5697d8d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1170&q=80" alt="Infraestructura Administrada" class="w-full h-full object-cover" loading="lazy">
                    </div>
                    <div class="lg:order-1">
                        <h3 class="text-3xl font-bold mb-4 text-iteco-blue">2. Infraestructura Administrada</h3>
                        <p class="text-text-light mb-6">Especialistas en cada materia (Sistemas Operativos, Bases de Datos, ERP) se ocupan de la plataforma, garantizando su funcionamiento. El cliente se libera de las complejas tareas de administración.</p>
                        <ul class="space-y-3 text-text-dark">
                            <li class="flex items-center"><i class="fas fa-check-circle text-iteco-cyan mr-3"></i> <strong class="ml-1">Servidores Administrados Chile</strong> (IaaS & PaaS).</li>
                            <li class="flex items-center"><i class="fas fa-check-circle text-iteco-cyan mr-3"></i> <strong class="ml-1">On-Premise Cloud</strong> (Nube privada en tu oficina o nuestro DC).</li>
                            <li class="flex items-center"><i class="fas fa-check-circle text-iteco-cyan mr-3"></i> <strong class="ml-1">Hosting de Aplicaciones Críticas</strong> y Bases de Datos.</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Servicio 3: Soporte y Outsourcing (Layout Imagen + Texto) -->
                <div class="grid lg:grid-cols-2 gap-12 items-center reveal-on-scroll">
                    <div class="rounded-lg overflow-hidden shadow-xl">
                        <img src="https://images.unsplash.com/photo-1556761175-59736f4c329e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1080&q=80" alt="Soporte y Outsourcing" class="w-full h-full object-cover" loading="lazy">
                    </div>
                    <div>
                        <h3 class="text-3xl font-bold mb-4 text-iteco-blue">3. Soporte y Outsourcing</h3>
                        <p class="text-text-light mb-6">Si requieres una mesa de ayuda (Helpdesk) o asistencia continua, en ITECO tenemos la solución. Optimizamos el trabajo de sistemas y mejoramos los niveles de servicio.</p>
                        <ul class="space-y-3 text-text-dark">
                            <li class="flex items-center"><i class="fas fa-check-circle text-iteco-cyan mr-3"></i> <strong class="ml-1">Servicio de soporte</strong> y Mesa de Ayuda.</li>
                            <li class="flex items-center"><i class="fas fa-check-circle text-iteco-cyan mr-3"></i> <strong class="ml-1">Soporte ERP</strong> (Funcional y Técnico).</li>
                            <li class="flex items-center"><i class="fas fa-check-circle text-iteco-cyan mr-3"></i> <strong class="ml-1">Outsorcing de sistemas</strong> y personal TI.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección "Plataforma" (servidores) - Detalle Técnico -->
        <section id="plataforma" class="py-16 md:py-24 bg-iteco-light">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16 reveal-on-scroll">
                    <h2 class="text-3xl md:text-4xl font-bold text-text-dark mb-4">Plataforma de Servidores en Chile</h2>
                    <p class="text-lg text-text-light max-w-3xl mx-auto">Rendimiento, flexibilidad y <strong class="text-iteco-blue">Soporte Local</strong> para tus sistemas de misión crítica.</p>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Card 1: Servidores Administrados -->
                    <div class="bg-white p-8 rounded-lg shadow-lg reveal-on-scroll">
                        <i class="fas fa-users-cog fa-3x text-iteco-cyan mb-4"></i>
                        <h3 class="text-2xl font-bold mb-3 text-iteco-blue">Servidores Administrados</h3>
                        <p class="text-text-light mb-4">La mejor forma de asegurar la <strong class="text-text-dark">Continuidad Operativa</strong>. ITECO se encarga de actualizaciones, mantenimiento y aseguramiento. Todos los planes incluyen licenciamiento y herramientas de seguridad.</p>
                        <ul class="space-y-2 text-sm text-text-dark">
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Ideal para <strong class="ml-1">Sistemas Críticos y ERPs</strong>.</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Incluye <strong class="ml-1">Soporte DBA</strong> y monitoreo 24/7.</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> <strong class="ml-1">Respaldo de datos</strong> y seguridad gestionada.</li>
                        </ul>
                    </div>
                    
                    <!-- Card 2: Servidores Autogestionados -->
                    <div class="bg-white p-8 rounded-lg shadow-lg reveal-on-scroll">
                        <i class="fas fa-user-shield fa-3x text-iteco-cyan mb-4"></i>
                        <h3 class="text-2xl font-bold mb-3 text-iteco-blue">Servidores Autogestionados</h3>
                        <p class="text-text-light mb-4">Ideal para empresas con profesionales capacitados (DevOps/SysAdmin) o áreas de desarrollo y QA que requieren autonomía de administrador.</p>
                        <ul class="space-y-2 text-sm text-text-dark">
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Flexibilidad y crecimiento <strong class="ml-1">On-Demand</strong>.</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Asignación de recursos (Disco, CPU, Memoria).</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Perfecto para <strong class="ml-1">Entornos de Control de Calidad (QA)</strong>.</li>
                        </ul>
                    </div>
                </div>

                <!-- Tabla de Servidores de BD (PPTX) -->
                <div class="mt-16 bg-white p-8 rounded-lg shadow-lg reveal-on-scroll">
                    <h3 class="text-2xl font-bold mb-4 text-center text-iteco-blue">Servidores de Bases de Datos (Linux/Windows)</h3>
                    <p class="text-text-light mb-6 text-center">Diseñados para rendimiento mejorado, seguridad y alta conectividad. Conecta tus apps internas o BI (Power BI, Tableau) directamente.</p>
                    <div class="overflow-x-auto">
                        <table class="w-full min-w-max text-left">
                            <thead>
                                <tr class="border-b bg-iteco-light">
                                    <th class="p-4 font-semibold">Característica</th>
                                    <th class="p-4 font-semibold text-center">Linux (Ubuntu/CentOS/Debian)</th>
                                    <th class="p-4 font-semibold text-center">Windows Server</th>
                                </tr>
                            </thead>
                            <tbody class="text-text-dark">
                                <tr class="border-b"><td class="p-4">MySql / MariaDB / PostgreSql</td><td class="p-4 text-center"><i class="fas fa-check text-green-500"></i></td><td class="p-4 text-center"><i class="fas fa-check text-green-500"></i> (con WSL o nativo)</td></tr>
                                <tr class="border-b"><td class="p-4">Microsoft SQL Server</td><td class="p-4 text-center"><i class="fas fa-check text-green-500"></i> (en Docker)</td><td class="p-4 text-center"><i class="fas fa-check text-green-500"></i></td></tr>
                                <tr class="border-b"><td class="p-4">Firewall y Filtrado de Puertos</td><td class="p-4 text-center"><i class="fas fa-check text-green-500"></i></td><td class="p-4 text-center"><i class="fas fa-check text-green-500"></i></td></tr>
                                <tr class="border-b"><td class="p-4">Vpn Site to Site / Vpn de Usuario</td><td class="p-4 text-center text-sm font-bold text-iteco-cyan">OPCIONAL</td><td class="p-4 text-center text-sm font-bold text-iteco-cyan">OPCIONAL</td></tr>
                                <tr class="border-b"><td class="p-4">Disponibilidad 7x24</td><td class="p-4 text-center"><i class="fas fa-check text-green-500"></i></td><td class="p-4 text-center"><i class="fas fa-check text-green-500"></i></td></tr>
                                <tr class="border-b"><td class="p-4"><strong class="text-iteco-blue">Soporte DBA (Administrado)</strong></td><td class="p-4 text-center"><i class="fas fa-check text-green-500"></i></td><td class="p-4 text-center"><i class="fas fa-check text-green-500"></i></td></tr>
                                <tr><td class="p-4 font-bold text-lg text-iteco-blue">Valor (Autogestionado)</td><td class="p-4 text-center font-bold text-lg text-iteco-blue">Desde UF 2 / mes</td><td class="p-4 text-center font-bold text-lg text-iteco-blue">Desde UF 3,5 / mes</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección "Calculadora Increíble" (Wizard Interactivo) -->
        <section id="configurador" class="py-16 md:py-24 dark-section">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12 reveal-on-scroll">
                    <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">Configurador de Servidores Online</h2>
                    <p class="text-lg text-gray-300 max-w-3xl mx-auto">Diseña tu <strong class="text-iteco-cyan">Nube Privada</strong> en 4 simples pasos y obtén una estimación instantánea.</p>
                </div>
                
                <div id="wizard-container" class="max-w-4xl mx-auto bg-iteco-dark p-6 md:p-10 rounded-xl shadow-2xl reveal-on-scroll">
                    <!-- Barra de Progreso -->
                    <div class="w-full bg-gray-700 rounded-full h-2.5 mb-6">
                        <div id="wizard-progress-bar" class="bg-iteco-cyan h-2.5 rounded-full" style="width: 25%;"></div>
                    </div>
                    <form id="calculator-form">
                        <!-- Paso 1: Propósito -->
                        <div id="step-1" class="wizard-step active">
                            <h3 class="text-2xl font-semibold text-white mb-6 text-center">Paso 1: ¿Cuál es el propósito principal del servidor?</h3>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <label class="wizard-radio-card p-4 rounded-lg text-center cursor-pointer" data-next="step-2">
                                    <input type="radio" name="purpose" value="erp" class="hidden">
                                    <i class="fas fa-server fa-3x text-iteco-cyan mb-3"></i>
                                    <span class="block font-medium text-white">Cloud ERP (Softland / SAP B1)</span>
                                </label>
                                <label class="wizard-radio-card p-4 rounded-lg text-center cursor-pointer" data-next="step-2">
                                    <input type="radio" name="purpose" value="web" class="hidden">
                                    <i class="fas fa-code fa-3x text-iteco-cyan mb-3"></i>
                                    <span class="block font-medium text-white">Apps Web / E-Commerce</span>
                                </label>
                                <label class="wizard-radio-card p-4 rounded-lg text-center cursor-pointer" data-next="step-2">
                                    <input type="radio" name="purpose" value="produccion" class="hidden">
                                    <i class="fas fa-industry fa-3x text-iteco-cyan mb-3"></i>
                                    <span class="block font-medium text-white">Producción / Logística</span>
                                </label>
                                <label class="wizard-radio-card p-4 rounded-lg text-center cursor-pointer" data-next="step-2">
                                    <input type="radio" name="purpose" value="otros" class="hidden">
                                    <i class="fas fa-question-circle fa-3x text-iteco-cyan mb-3"></i>
                                    <span class="block font-medium text-white">Otros / Básico / QA</span>
                                </label>
                            </div>
                        </div>

                        <!-- Paso 2: Disponibilidad -->
                        <div id="step-2" class="wizard-step">
                            <h3 class="text-2xl font-semibold text-white mb-6 text-center">Paso 2: ¿Qué nivel de Continuidad Operativa necesitas?</h3>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <label class="wizard-radio-card p-4 rounded-lg text-center cursor-pointer" data-next="step-3"><input type="radio" name="availability" value="critico" class="hidden"><i class="fas fa-shield-alt fa-3x text-iteco-cyan mb-3"></i><span class="block font-medium text-white">Misión Crítica (HA / 24x7)</span></label>
                                <label class="wizard-radio-card p-4 rounded-lg text-center cursor-pointer" data-next="step-3"><input type="radio" name="availability" value="continuo" class="hidden"><i class="fas fa-sync-alt fa-3x text-iteco-cyan mb-3"></i><span class="block font-medium text-white">Procesamiento Continuo</span></label>
                                <label class="wizard-radio-card p-4 rounded-lg text-center cursor-pointer" data-next="step-3"><input type="radio" name="availability" value="jornada" class="hidden"><i class="fas fa-briefcase fa-3x text-iteco-cyan mb-3"></i><span class="block font-medium text-white">Jornada de Trabajo (8x5)</span></label>
                                <label class="wizard-radio-card p-4 rounded-lg text-center cursor-pointer" data-next="step-3"><input type="radio" name="availability" value="nocturno" class="hidden"><i class="fas fa-moon fa-3x text-iteco-cyan mb-3"></i><span class="block font-medium text-white">Uso Nocturno / Batch</span></label>
                            </div>
                        </div>

                        <!-- Paso 3: Recursos -->
                        <div id="step-3" class="wizard-step">
                            <h3 class="text-2xl font-semibold text-white mb-6 text-center">Paso 3: ¿Cuántos usuarios y almacenamiento?</h3>
                            <div class="space-y-6">
                                <div>
                                    <label for="prop-users" class="block text-lg font-medium text-white mb-2">Usuarios Concurrentes: <span id="users-value" class="text-iteco-cyan font-bold">10</span></label>
                                    <input type="range" id="prop-users" min="1" max="100" value="10" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer range-thumb-cyan">
                                </div>
                                <div>
                                    <label for="prop-storage" class="block text-lg font-medium text-white mb-2">Almacenamiento (SSD/NVMe): <span id="storage-value" class="text-iteco-cyan font-bold">200 GB</span></label>
                                    <select id="prop-storage" class="w-full p-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-iteco-cyan focus:ring-iteco-cyan">
                                        <option value="200">Hasta 200GB (Base PYME)</option>
                                        <option value="500">De 200 a 500GB</option>
                                        <option value="1000">De 500GB a 1TB</option>
                                        <option value="2000">De 1 a 2TB</option>
                                        <option value="4000">Más de 2TB</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Paso 4: Modalidad y Respaldo -->
                        <div id="step-4" class="wizard-step">
                            <h3 class="text-2xl font-semibold text-white mb-6 text-center">Paso 4: ¿Qué modalidad y respaldo prefieres?</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-lg font-medium text-white mb-2">Modalidad de Soporte</label>
                                    <select id="prop-management" class="w-full p-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-iteco-cyan focus:ring-iteco-cyan">
                                        <option value="admin">Servidores Administrados (Recomendado)</option>
                                        <option value="auto">Servidores Autogestionados (IaaS)</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-lg font-medium text-white mb-2">Respaldo y Antiransomware</label>
                                    <select id="prop-backup" class="w-full p-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-iteco-cyan focus:ring-iteco-cyan">
                                        <option value="diario">Respaldo Diario + Antiransomware (Recomendado)</option>
                                        <option value="replicacion">Replicación Continua (HA)</option>
                                        <option value="semanal">Respaldo Semanal Simple</option>
                                        <option value="no">Sin Respaldo (Riesgo Alto)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Paso 5: Resultado -->
                        <div id="step-5" class="wizard-step text-center">
                            <h3 class="text-2xl font-semibold text-white mb-4">¡Estimación Lista!</h3>
                            <p class="text-gray-300 mb-6">Basado en tus selecciones, esta es una estimación para tu <strong class="text-iteco-cyan">Nube Privada Administrada</strong>.</p>
                            <div class="bg-iteco-dark p-6 rounded-xl shadow-inner">
                                <h4 class="text-lg font-semibold text-gray-300">Estimación de Inversión Mensual</h4>
                                <div id="estimated-price" class="text-5xl font-extrabold my-3 text-iteco-cyan transition duration-500">UF 28,5 / mes</div>
                                <div id="recommendation-text" class="text-gray-400 mb-6">Configuración base (Administrado, Diario).</div>
                                <p class="text-xs text-gray-500 mb-6">*Estimación de **Servicios IaaS PaaS**. No incluye IVA, licencias ni **Soporte ERP** especializado.</p>
                                <button id="btn-cotizar-final" type="button" class="btn-primary w-full text-lg">
                                    <i class="fas fa-paper-plane mr-2"></i> Solicitar Cotización Formal
                                </button>
                            </div>
                        </div>
                    </form>

                    <!-- Navegación del Wizard -->
                    <div class="flex justify-between mt-8">
                        <button id="wizard-prev" class="btn-secondary bg-gray-700 text-white border-gray-700 hover:bg-gray-600" disabled>
                            <i class="fas fa-arrow-left mr-2"></i> Anterior
                        </button>
                        <button id="wizard-next" class="btn-primary" disabled>
                            Siguiente <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección "Seguridad" (PPTX) - Alto Contraste y legibilidad -->
        <section id="seguridad" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16 reveal-on-scroll">
                    <h2 class="text-3xl md:text-4xl font-bold text-text-dark mb-4">Seguridad Avanzada y Continuidad Operativa</h2>
                    <p class="text-lg text-text-light max-w-3xl mx-auto">Protegemos tu <strong class="text-iteco-blue">Respaldo de datos</strong> con tecnología de punta y <strong class="text-iteco-blue">Cumplimiento Normativo ISO 27001</strong>.</p>
                </div>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Feature 1 -->
                    <div class="bg-iteco-light p-6 rounded-lg shadow-md reveal-on-scroll" data-delay="100">
                        <i class="fas fa-shield-virus fa-3x text-iteco-cyan mb-4"></i>
                        <h3 class="text-xl font-bold text-iteco-blue mb-2">Antiransomware con Reversión</h3>
                        <p class="text-text-light text-sm">Detección basada en comportamiento y <strong class="text-text-dark">reversión automática</strong> del ataque, asegurando tus datos.</p>
                    </div>
                    <!-- Feature 2 -->
                    <div class="bg-iteco-light p-6 rounded-lg shadow-md reveal-on-scroll" data-delay="200">
                        <i class="fas fa-search-plus fa-3x text-iteco-cyan mb-4"></i>
                        <h3 class="text-xl font-bold text-iteco-blue mb-2">EDR y Detección de Amenazas</h3>
                        <p class="text-text-light text-sm">Respuesta a incidentes con un clic, visualización de cadena de ataque (MITRE ATT&CK) y búsqueda inteligente de IoC.</p>
                    </div>
                    <!-- Feature 3 -->
                    <div class="bg-iteco-light p-6 rounded-lg shadow-md reveal-on-scroll" data-delay="300">
                        <i class="fas fa-tasks fa-3x text-iteco-cyan mb-4"></i>
                        <h3 class="text-xl font-bold text-iteco-blue mb-2">Auditoría y Cumplimiento</h3>
                        <p class="text-text-light text-sm">Realizamos <strong class="text-text-dark">Auditoria de sistemas</strong> para el <strong class="text-text-dark">Cumplimiento Normativo ISO 27001</strong>.</p>
                    </div>
                    <!-- Feature 4 -->
                    <div class="bg-iteco-light p-6 rounded-lg shadow-md reveal-on-scroll" data-delay="400">
                        <i class="fas fa-database fa-3x text-iteco-cyan mb-4"></i>
                        <h3 class="text-xl font-bold text-iteco-blue mb-2">Respaldo y Continuidad</h3>
                        <p class="text-text-light text-sm">Plataforma de <strong class="text-text-dark">Continuidad Operativa Cloud</strong> que integra ciberseguridad y recuperación en caso de desastres.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección "Blog" (blog) - Artículos Reales -->
        <section id="blog" class="py-16 md:py-24 bg-iteco-light">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16 reveal-on-scroll">
                    <h2 class="text-3xl md:text-4xl font-bold text-text-dark mb-4">Blog ITECO: Novedades y Análisis</h2>
                    <p class="text-lg text-text-light max-w-3xl mx-auto">Información de valor sobre tecnología, gestión y optimización de plataformas.</p>
                </div>
                
                <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                    <!-- Artículo 1: Auditoría -->
                    <a href="https://www.itecoingenieria.com/blog/importancia-de-auditar-los-sistemas-de-informacion-en-la-pyme/" target="_blank" class="block bg-white rounded-lg shadow-lg overflow-hidden reveal-on-scroll card-feature">
                        <img src="https://images.unsplash.com/photo-1516321318423-271c06830009?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1170&q=80" alt="Auditoría de Sistemas" class="w-full h-48 object-cover" loading="lazy">
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-iteco-blue mb-2">Importancia de la <strong class="text-text-dark">Auditoria de sistemas</strong> en la PYME</h3>
                            <p class="text-sm text-text-light mb-4">Asegura el cumplimiento normativo y detecta vulnerabilidades antes de que afecten tu operación.</p>
                            <span class="text-iteco-cyan font-semibold">Leer más <i class="fas fa-arrow-right ml-1"></i></span>
                        </div>
                    </a>
                    <!-- Artículo 2: ERP -->
                    <a href="https://www.itecoingenieria.com/blog/plataformas-erp-softland-y-sap-b1-en-servidores-cloud-iteco/" target="_blank" class="block bg-white rounded-lg shadow-lg overflow-hidden reveal-on-scroll card-feature">
                        <img src="https://images.unsplash.com/photo-1630514966051-2c06900a2b9e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1170&q=80" alt="Plataformas ERP" class="w-full h-48 object-cover" loading="lazy">
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-iteco-blue mb-2">Maximizando <strong class="text-text-dark">ERP Softland y SAP B1</strong> en Cloud ITECO</h3>
                            <p class="text-sm text-text-light mb-4">El rendimiento de tu ERP depende de una infraestructura administrada y optimizada para ello.</p>
                            <span class="text-iteco-cyan font-semibold">Leer más <i class="fas fa-arrow-right ml-1"></i></span>
                        </div>
                    </a>
                    <!-- Artículo 3: Antiransomware -->
                    <a href="https://www.itecoingenieria.com/blog/antiransomware-con-reversion-automatica-de-ataque/" target="_blank" class="block bg-white rounded-lg shadow-lg overflow-hidden reveal-on-scroll card-feature">
                        <img src="https://images.unsplash.com/photo-1548092372-6d13b02c3b31?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1170&q=80" alt="Antiransomware" class="w-full h-48 object-cover" loading="lazy">
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-iteco-blue mb-2"><strong class="text-text-dark">Antiransomware con Reversión</strong> Automática</h3>
                            <p class="text-sm text-text-light mb-4">La única defensa real: cómo recuperar tus sistemas en minutos, no en días, después de un ciberataque.</p>
                            <span class="text-iteco-cyan font-semibold">Leer más <i class="fas fa-arrow-right ml-1"></i></span>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Sección "Contacto" (contacto y contactoiteco) - GEO y Formulario -->
        <section id="contacto" class="py-16 md:py-24 dark-section">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid lg:grid-cols-2 gap-12 items-start">
                    
                    <!-- Columna de Información de Contacto (GEO) -->
                    <div class="reveal-on-scroll">
                        <h2 class="text-3xl md:text-4xl font-bold mb-4 text-white">Contacto y <span class="text-iteco-cyan">Soporte Local</span></h2>
                        <p class="text-lg text-gray-300 mb-8">
                            Estamos ubicados en Macul, Santiago. Visítanos o llámanos para una cotización formal de <strong class="text-white">Servicios IaaS PaaS</strong> o <strong class="text-white">Soporte ERP</strong>.
                        </p>
                        
                        <div class="space-y-4 text-lg text-gray-200 mb-8">
                            <p class="flex items-start"><i class="fas fa-map-marker-alt fa-fw text-iteco-cyan mr-3 mt-1"></i> Av. Vicuña Mackenna 4620, Macul, Santiago.</p>
                            <p class="flex items-center"><i class="fas fa-phone-alt fa-fw text-iteco-cyan mr-3"></i> +56 2 2506 7200</p>
                            <p class="flex items-center"><i class="fas fa-clock fa-fw text-iteco-cyan mr-3"></i> Lunes a Viernes, 9:00 - 18:00 hrs.</p>
                        </div>
                        
                        <!-- Mapa (GEO) -->
                        <div class="rounded-lg overflow-hidden shadow-2xl" style="height: 300px;">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3327.910086884878!2d-70.59241398479968!3d-33.4735396807662!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9662d001335b671b%3A0xb35787f1766a5e1c!2sAv.%20Vicu%C3%B1a%20Mackenna%204620%2C%20Macul%2C%20Regi%C3%B3n%20Metropolitana!5e0!3m2!1ses-419!2scl!4v1699281783307!5m2!1ses-419!2scl" 
                                width="100%" 
                                height="100%" 
                                style="border:0;" 
                                allowfullscreen="" 
                                loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade">
                            </iframe>
                        </div>
                    </div>

                    <!-- Columna de Formulario de Contacto -->
                    <div class="bg-iteco-light p-6 md:p-8 rounded-lg shadow-2xl reveal-on-scroll">
                        <h3 class="text-2xl font-bold mb-6 text-text-dark">Formulario de Contacto</h3>
                        <form id="contact-form" class="space-y-4">
                            <input type="text" id="contact-name" placeholder="Nombre y Apellido" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-iteco-cyan focus:border-iteco-cyan text-text-dark">
                            <input type="email" id="contact-email" placeholder="Email Corporativo" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-iteco-cyan focus:border-iteco-cyan text-text-dark">
                            <input type="text" id="contact-company" placeholder="Empresa (PYME)" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-iteco-cyan focus:border-iteco-cyan text-text-dark">
                            <textarea id="contact-message" rows="4" placeholder="Mensaje o parámetros de tu configuración..." class="w-full p-3 border border-gray-300 rounded-lg focus:ring-iteco-cyan focus:border-iteco-cyan text-text-dark"></textarea>
                            <input type="hidden" id="config-summary" name="config-summary">
                            <button type="submit" class="w-full btn-primary px-8 py-3 text-lg">
                                Enviar Consulta y Cotización
                            </button>
                            <p id="form-message" class="text-sm text-center text-green-600 hidden"></p>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Pie de Página -->
    <footer class="bg-iteco-dark text-white pt-12 pb-8 border-t border-gray-700">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-sm text-gray-400">© 2025 ITECO Ingeniería LTDA. <strong class="text-white">Servidores en Chile</strong> | <strong class="text-white">Soporte Local</strong> | Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- ------------------ Chatbot Flotante (Gemini Specialist) ------------------ -->
    <div id="chat-button" class="bg-iteco-cyan p-4 rounded-full shadow-lg">
        <i class="fas fa-comment-dots fa-2x text-white"></i>
    </div>
    <div id="chat-window" class="hidden">
        <div class="chat-header rounded-t-lg flex justify-between items-center bg-iteco-blue text-white p-4">
            <h4 class="font-bold text-lg">Especialista ITECO (IA)</h4>
            <button onclick="toggleChat()" class="text-white hover:text-gray-300"><i class="fas fa-times fa-lg"></i></button>
        </div>
        <div id="chat-messages" class="chat-body flex flex-col p-4 space-y-3">
            <div class="chat-message-ai p-3 rounded-lg bg-gray-200 text-text-dark self-start max-w-xs">
                ¡Hola! Soy tu Especialista ITECO virtual. ¿En qué puedo ayudarte hoy? Pregúntame sobre <strong>Servidores Administrados</strong>, <strong>Cloud ERP</strong> o <strong>Antiransomware</strong>.
            </div>
        </div>
        <div class="chat-input-area p-4 border-t border-gray-200">
            <form id="chat-form" class="flex">
                <input type="text" id="chat-input" placeholder="Pregunta sobre Softland, Seguridad..." class="w-full p-2 border border-gray-300 rounded-l-lg focus:ring-iteco-cyan focus:border-iteco-cyan text-text-dark">
                <button type="submit" id="send-button" class="bg-iteco-cyan px-4 rounded-r-lg text-white hover:bg-iteco-blue transition duration-300">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </form>
        </div>
    </div>
    
    <!-- ------------------ JavaScript (Funcionalidad) ------------------ -->
    <script type="module">
        // Importaciones de Firebase (Boilerplate Requerido para el entorno de Gemini)
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        
        // 1. Inicialización de Firebase (Boilerplate)
        try {
            const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
            const app = initializeApp(firebaseConfig);
            const auth = getAuth(app);
            await signInAnonymously(auth);
        } catch (error) {
            console.warn("Firebase Auth Error (Ignorable en demo):", error.message);
        }

        // ------------------ 2. Lógica del Chatbot de ITECO (Simulación Funcional) ------------------
        // No se usa una API key real para que el HTML sea 100% portable y seguro.
        
        const chatWindow = document.getElementById('chat-window');
        const chatButton = document.getElementById('chat-button');
        const chatForm = document.getElementById('chat-form');
        const chatInput = document.getElementById('chat-input');
        const chatMessages = document.getElementById('chat-messages');
        const sendButton = document.getElementById('send-button');

        window.toggleChat = function() {
            chatWindow.classList.toggle('is-visible');
        };
        chatButton.addEventListener('click', window.toggleChat);

        chatForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const userQuery = chatInput.value.trim().toLowerCase();
            if (!userQuery) return;
            renderMessage(userQuery, true);
            chatInput.value = '';
            showLoading();
            
            // Simulación de respuesta de IA (para que funcione al subirlo)
            setTimeout(() => {
                const aiResponse = getSimulatedGeminiResponse(userQuery);
                hideLoading();
                renderMessage(aiResponse, false);
            }, 1200);
        });

        function getSimulatedGeminiResponse(query) {
            const systemPrompt = "Actúa como un Especialista en Infraestructura y Cloud de ITECO. Tu objetivo es ser totalmente transparente, claro, informativo y experto. Ofrece siempre soluciones centradas en el cliente, enfocadas en Servidores Administrados Chile, Cloud ERP, Continuidad Operativa, Respaldo de datos, Seguridad (Antiransomware) y Soporte Local para PYMES. Responde solo en español y de forma concisa. Nunca menciones que eres un modelo de lenguaje. Si el usuario pregunta por costos, redirígelo a usar el 'Configurador de Servidores Online' o a contactar formalmente a ITECO.";
            
            if (query.includes("erp") || query.includes("softland") || query.includes("sap")) {
                return "¡Claro! Somos especialistas en <strong>Plataformas ERP Softland y SAP B1</strong>. Ofrecemos <strong>Servidores Administrados</strong> optimizados para el máximo rendimiento de tu ERP, asegurando la <strong>Continuidad Operativa</strong>.";
            }
            if (query.includes("precio") || query.includes("costo") || query.includes("cotizar")) {
                return "Para obtener una estimación precisa de tu proyecto, te recomiendo usar nuestro <strong>Configurador de Servidores Online</strong> en la web. Si deseas una cotización formal, por favor completa el formulario en la sección de <strong>Contacto</strong>.";
            }
            if (query.includes("seguridad") || query.includes("ransomware")) {
                return "Nuestra plataforma de seguridad avanzada incluye <strong>Antiransomware con reversión automática</strong>, Detección y Respuesta (EDR), y auditorías para el <strong>Cumplimiento Normativo ISO 27001</strong>.";
            }
            if (query.includes("soporte") || query.includes("local")) {
                return "Nuestro <strong>Soporte Local</strong> está en Macul, Santiago. Ofrecemos <strong>Servicio de soporte</strong> y <strong>Soporte ERP</strong> con tiempos de respuesta rápidos, lo que nos diferencia de las nubes genéricas.";
            }
            if (query.includes("hola") || query.includes("gracias")) {
                return "¡Hola! Estoy aquí para ayudarte con cualquier duda sobre nuestros servicios de Cloud, ERP y Seguridad. ¿En qué puedo asistirte?";
            }
            return "Entendido. Para esa consulta específica sobre " + query + ", te recomiendo contactar a un especialista humano a través de nuestro formulario de contacto. Ellos podrán darte la información detallada que necesitas.";
        }

        function renderMessage(text, isUser) {
            const messageDiv = document.createElement('div');
            messageDiv.className = isUser ? 'chat-message-user p-3 rounded-lg bg-iteco-cyan text-white self-end max-w-xs' : 'chat-message-ai p-3 rounded-lg bg-gray-200 text-text-dark self-start max-w-xs';
            messageDiv.innerHTML = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>'); // Doble chequeo de negritas
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showLoading() {
            const loading = document.createElement('div');
            loading.id = 'loading-dots';
            loading.className = 'chat-message-ai p-3 rounded-lg bg-gray-200 text-text-dark self-start';
            loading.innerHTML = '<div id="loading-dots"><span></span><span></span><span></span></div>'; // Estilo de carga
            chatMessages.appendChild(loading);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            sendButton.disabled = true;
            chatInput.disabled = true;
        }

        function hideLoading() {
            document.getElementById('loading-dots')?.remove();
            sendButton.disabled = false;
            chatInput.disabled = false;
            chatInput.focus();
        }

        // ------------------ 3. Lógica del Configurador (Wizard) ------------------
        const steps = document.querySelectorAll('.wizard-step');
        const prevBtn = document.getElementById('wizard-prev');
        const nextBtn = document.getElementById('wizard-next');
        const progressBar = document.getElementById('wizard-progress-bar');
        const calculatorForm = document.getElementById('calculator-form');
        let currentStep = 1;

        const priceElement = document.getElementById('estimated-price');
        const recommendationElement = document.getElementById('recommendation-text');
        
        function showStep(stepNumber) {
            steps.forEach(step => step.classList.remove('active'));
            document.getElementById(`step-${stepNumber}`).classList.add('active');
            progressBar.style.width = `${(stepNumber / steps.length) * 100}%`;
            
            prevBtn.disabled = stepNumber === 1;
            nextBtn.disabled = (stepNumber === 1 || stepNumber === 2) ? true : false; // Deshabilitar Siguiente en pasos de radio
            nextBtn.innerHTML = (stepNumber === steps.length - 1) ? 'Calcular <i class="fas fa-magic ml-2"></i>' : 'Siguiente <i class="fas fa-arrow-right ml-2"></i>';
            
            if (stepNumber === 5) { // Si es el paso final (resultado)
                prevBtn.disabled = false;
                nextBtn.style.display = 'none';
                calculatePrice(); // Calcular al llegar al final
            } else {
                nextBtn.style.display = 'inline-block';
            }
        }
        
        prevBtn.addEventListener('click', () => {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentStep < steps.length) {
                currentStep++;
                showStep(currentStep);
            }
        });

        // Event listeners para los radios (selección y avance)
        document.querySelectorAll('.wizard-radio-card').forEach(card => {
            card.addEventListener('click', (e) => {
                // Marcar selección visual
                const radioName = card.querySelector('input[type="radio"]').name;
                document.querySelectorAll(`input[name="${radioName}"]`).forEach(radio => {
                    radio.closest('.wizard-radio-card').classList.remove('selected');
                });
                card.classList.add('selected');
                card.querySelector('input[type="radio"]').checked = true;
                
                // Habilitar y avanzar
                nextBtn.disabled = false;
                setTimeout(() => {
                    if (currentStep < steps.length - 1) { // No avanzar en el último paso
                         currentStep++;
                         showStep(currentStep);
                    }
                }, 300); // Pequeño delay para UX
            });
        });

        // Actualizar valores de sliders (UX)
        document.getElementById('prop-users').addEventListener('input', (e) => {
            document.getElementById('users-value').innerText = e.target.value;
        });

        // Calcular precio (la misma lógica de antes)
        function calculatePrice() {
            let basePrice = 5.0; 
            let users = parseInt(document.getElementById('prop-users').value) || 10;
            const purpose = document.querySelector('input[name="purpose"]:checked')?.value || 'otros';
            const availability = document.querySelector('input[name="availability"]:checked')?.value || 'jornada';
            const management = document.getElementById('prop-management').value;
            const backup = document.getElementById('prop-backup').value;
            const storage = document.getElementById('prop-storage').value;
            
            let purposeText = "Básico";
            if(purpose === 'web'){ basePrice += 3; purposeText = "Web/Interfaces"; }
            else if(purpose === 'produccion'){ basePrice += 10; purposeText = "Producción/Logística"; }
            else if(purpose === 'erp'){ basePrice += 25; purposeText = "Misión Crítica ERP"; }

            let availText = "Jornada 8x5";
            if(availability === 'nocturno'){ basePrice += 0; availText = "Uso Nocturno"; }
            else if(availability === 'continuo'){ basePrice += 12; availText = "Procesamiento 7x24"; }
            else if(availability === 'critico'){ basePrice += 20; availText = "Misión Crítica (HA)"; }

            basePrice += (users * 0.35); 

            let mgmtText = "Autogestionado (IaaS)";
            if (management === 'admin') {
                basePrice += 18; 
                mgmtText = "Administrado (PaaS + Soporte)";
            }

            let backupText = "Sin Respaldo";
            if(backup === 'semanal'){ basePrice += 6; backupText = "Respaldo Semanal"; }
            else if(backup === 'diario'){ basePrice += 12; backupText = "Diario + Antiransomware"; }
            else if(backup === 'replicacion'){ basePrice += 35; backupText = "Replicación Continua"; }

            let storageText = `200GB (Base)`;
            if (storage === '500') { basePrice += 6; storageText = "500GB"; }
            else if (storage === '1000') { basePrice += 15; storageText = "1TB"; }
            else if (storage === '2000') { basePrice += 28; storageText = "2TB"; }
            else if (storage === '4000') { basePrice += 50; storageText = ">2TB"; }
            
            priceElement.innerText = 'UF ' + basePrice.toFixed(1) + ' / mes';
            recommendationElement.innerText = `${purposeText} | ${availText} | ${mgmtText} | ${backupText}`;
            
            // Llenar el campo oculto para el formulario de contacto
            document.getElementById('config-summary').value = `CONFIGURACIÓN: ${purposeText}, ${availText}, ${users} usuarios, ${mgmtText}, ${backupText}, ${storageText}. PRECIO ESTIMADO: UF ${basePrice.toFixed(1)} / mes.`;
        }

        // Event listeners para recalcular en los pasos 3 y 4
        calculatorForm.addEventListener('change', () => {
            if (currentStep >= 3) { // Recalcular si se cambian los pasos 3 o 4
                calculatePrice();
            }
        });
        
        // Inicializar el Wizard
        showStep(currentStep);

        // ------------------ 4. Lógica de Contacto (Formulario y Pre-llenado) ------------------
        const contactForm = document.getElementById('contact-form');
        const contactMessage = document.getElementById('contact-message');
        const formMessage = document.getElementById('form-message');

        // Pre-llenar formulario desde la calculadora (UX/CX)
        document.getElementById('btn-cotizar-final').addEventListener('click', function() {
            const summary = document.getElementById('config-summary').value;
            contactMessage.value = `¡Hola! Me gustaría una cotización formal basada en esta estimación:\n\n${summary}\n\nPor favor, contáctenme.`;
            document.getElementById('contacto').scrollIntoView({ behavior: 'smooth' });
            contactMessage.focus();
        });

        // Simulación de envío de formulario (CX)
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            formMessage.innerText = "¡Mensaje Enviado! Un especialista de ITECO se pondrá en contacto pronto.";
            formMessage.classList.remove('hidden');
            formMessage.classList.add('text-green-600');
            setTimeout(() => {
                contactForm.reset();
                formMessage.classList.add('hidden');
                contactMessage.value = ''; 
                // Resetear wizard
                currentStep = 1;
                showStep(currentStep);
                document.querySelectorAll('.wizard-radio-card').forEach(c => c.classList.remove('selected'));
                calculatorForm.reset();
            }, 4000);
        });

        // ------------------ 5. Lógica de Menú Móvil ------------------
        document.getElementById('menu-button').addEventListener('click', function() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });
        // Cerrar menú al hacer clic en un enlace (UX)
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                document.getElementById('mobile-menu').classList.add('hidden');
            });
        });
        
        // ------------------ 6. Lógica de Animaciones de Scroll (UX) ------------------
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // Añadir delay si está definido en data-delay
                    const delay = entry.target.getAttribute('data-delay') || 0;
                    setTimeout(() => {
                        entry.target.classList.add('is-visible');
                    }, delay);
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 }); // Activar al 10% de visibilidad

        document.querySelectorAll('.reveal-on-scroll').forEach(el => {
            observer.observe(el);
        });

    </script>
</body>
</html>
